<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>MaoZH's BlogMaoZH</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/mermaid/8.11.0/mermaid.min.js"></script><script>mermaid.initialize({
  startOnLoad: true
  , theme: 'dark'
});</script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="MaoZH" type="application/atom+xml">
</head><body><header><nav><a href="/">Home</a><a href="/archives/">Archives</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1></h1><hr></div><div id="post-content"><h2 id="Http"><a href="#Http" class="headerlink" title="Http"></a>Http</h2><p>==超文本传输协议==<br>是一个简单的请求-响应协议，通常运行在TCP上</p>
<ul>
<li>文本：html，字符串，…</li>
<li>超文本：图片、音乐、视频、定位、地图</li>
<li>端口：80</li>
</ul>
<p>https:安全的</p>
<ul>
<li>端口：443</li>
</ul>
<p>Http1.0</p>
<p>http/1.0:客户端与web服务器连接后只能获得一个web资源，然后断开连接</p>
<p>Http2.0</p>
<p>http/1.1:客户端与web服务器连接后能获得多个web资源</p>
<h3 id="Http请求"><a href="#Http请求" class="headerlink" title="Http请求"></a>Http请求</h3><ul>
<li>客户端–发请求(request)–服务器</li>
</ul>
<pre><code>Request URL: https://www.baidu.com/
Request Method: GET   //请求方法post/get
Status Code: 200 OK //状态码
Remote Address: 180.97.34.94:443 //远程地址
Referrer Policy: strict-origin-when-cross-origin //协议
</code></pre>
<pre><code>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Cache-Control: max-age=0
Connection: keep-alive
</code></pre>
<p>1、请求行<br>请求行中的请求方式：GET<br>请求方式：Get,Post,HEAD,DELETE,PUT,TRACT<br>get:请求能够携带的参数比较少，大小有限制，会在浏览器的URL地址栏显示数据内容，不安全，但是效率高<br>Post:请求能够携带的参数没有限制，大小没有限制，不会在浏览器的URL地址栏显示数据内容，安全，但是效率不高</p>
<p>2、消息头</p>
<pre><code>Accept:告诉浏览器所支持的数据类型
Accept-Encoding: 支持哪种编码格式GBK、UTF-8、GB2312、ISO8859-1
Accept-Language: 告诉浏览器语言环境
Cache-Control: 缓存控制
Connection: 告诉浏览器请求完成是断开还是保持连接
Host:主机
</code></pre>
<h3 id="Http响应"><a href="#Http响应" class="headerlink" title="Http响应"></a>Http响应</h3><ul>
<li>服务器–响应–客户端</li>
</ul>
<pre><code>Bdpagetype: 2
Bdqid: 0xfcc73a900001d848
Cache-Control: private  //缓存控制
Connection: keep-alive //连接状态
Content-Encoding: gzip //编码
Content-Type: text/html;charset=utf-8 //内容类型
Date: Mon, 26 Jul 2021 15:36:44 GMT
Expires: Mon, 26 Jul 2021 15:36:44 GMT
Server: BWS/1.1 //服务器信息
Set-Cookie: BDSVRTM=330; path=/
Set-Cookie: BD_HOME=1; path=/
Set-Cookie: H_PS_PSSID=34300_34099_34330_34004_34073_34093_26350_34238; path=/; domain=.baidu.com
Strict-Transport-Security: max-age=172800
Traceid: 1627313804064118375418214591608073082952
Transfer-Encoding: chunked
X-Frame-Options: sameorigin
X-Ua-Compatible: IE=Edge,chrome=1
</code></pre>
<p><strong>响应体</strong></p>
<pre><code>Accept:告诉浏览器所支持的数据类型
Accept-Encoding: 支持哪种编码格式GBK、UTF-8、GB2312、ISO8859-1
Accept-Language: 告诉浏览器语言环境
Cache-Control: 缓存控制
Connection: 告诉浏览器请求完成是断开还是保持连接
Host:主机
Reflush:告诉客户端多久刷新一次
Location:网页重新定位
</code></pre>
<p><strong>响应状态码</strong></p>
<p>1XX：接受的请求正在处理</p>
<p>2XX：请求响应成功</p>
<p>3XX：请求重定向</p>
<p>4XX：资源不存在，服务器无法处理请求</p>
<p>5XX：服务器代码错误 502网关错误</p>
<p>应用层<br>应用层协议定义的是应用进程（进程：主机中正在运行的程序）间的通信和交互的规则。<br>应用层交互的数据单元称为报文。<br>运输层<br>负责向两台主机进程之间的通信提供通用的数据传输服务。复用就是指多个应用层进程可同时使用下面运输层的服务<br>网络层<br>网络层的任务就是选择合适的网间路由和交换结点， 确保数据及时传送。网络层使用 IP 协议，分组也叫 IP 数据报<br>数据链路层<br>两台主机之间的数据传输，数据链路层将网络层交下来的 IP 数据报组装成帧，在两个相邻节点间的链路上传送帧<br>物理层<br>实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异<br>网络层的 ARP 协议完成了 IP 地址与物理地址的映射<br> A、B、C 是基本类，D、E 类作为多播和保留使用<br>TCP 是面向连接的，每一条 TCP 连接只能是点对点的，TCP 提供可靠交付的服务， TCP 提供全双工通信。面向字节流<br>UDP 是无连接的，UDP 使用尽最大努力交付，UDP 是面向报文的，UDP 支持多对多的交互通信，应用于实时较多<br>TCP 不提供广播或多播服务，会有三次握手来建立连接<br>TCP 对应的应用层协议：FTP：定义了文件传输协议，Telnet：它是一种用于远程登陆的端口，SMTP：定义了简单邮件传送协议，HTTP：从 Web 服务器传输超文本到本地浏览器的传送协议<br>UDP 对应的应用层协议：DNS：用于域名解析服务，TFTP简单文件传输协议<br>TCP三次握手：<br>1.A向B发送请求报文段，此时同步位syn为1，选择一个初始序号为x<br>2.B接收到报文请求后，同意建立连接，向A发送确认，把syn和ack都置为1，确认号为x+1,同时自己选择一个初始序号y<br>3.TCP客户端A收到B确认后，再向B给出确认，此时ACK置为1确认号置为y+1，单自己的序列号是x+1<br>两次握手不行：为了防止已经失效的连接请求报文段突然又传送到了 B，因而产生错误<br>四次是不需要的：在经过三次握手之后，客户端和服务端已经可以确认之前的通信状况，都收到了确认信息。再增加也无法保证可靠<br>传输结束后的TCP四次握手<br>1.客户端A发出连接释放报文段，并停止发送数据，fin位置为1，序号为u<br>2.B收到释放报文段后，发出确认，确认号ack=u+1,自己的序号是v,此时告诉高层应用连接释放，此时B可以往A发数据<br>3.若B已经没向A发送数据，此时B发出的释放报文段必须将FIN置为1，此时B假设选择序号为w<br>4.A接收到B的释放报文后，发出确认，此时ACK置为1，确认号为w+1,此时自己的序号为u+1，等待两个最长报文寿命后进入关闭状态<br>保证最后一个确认报文段能到达B<br>第二次和第三次之间的等待是什么：服务端会等待把之前未传输完的数据传输完毕之后再发送关闭请求<br>TCP 协议是如何保证可靠传输的？<br> 数据包校验，丢弃重复数据，应答机制，超时重发<br>停止等待协议是为了实现可靠传输的，它的基本原理就是每发完一个分组就停止发送，等待对方确认。在收到确认后再发下一个分组<br>自动重传请求 ARQ 协议:超过一段时间未收到确认则重传<br>连续的ARQ协议：累计收到多条分组后在进行确认</p>
<p>TCP 中采用滑动窗口来进行传输控制，滑动窗口的大小意味着接收方还有多大的缓冲区可以用于接收数据。发送方可以通过滑动窗口的大小来确定应该发送多少字节的数据。<br>TCP 的拥塞控制采用了四种算法，即：慢开始、拥塞避免、快重传和快恢复<br>慢开始：先探测一下，即由小到大逐渐增大发送窗口，<br>拥塞避免：每经过一个往返时间 RTT 就把发送方的拥塞窗口加1<br>快重传与快恢复：接收机接收到一个失序的数据段，它会立即给发送机发送一个重复确认。发送端接收3个后重传，就执行“乘法减小”算法，把慢开始门限减半。<br>400：语法错误<br>401：发送的请求需要有认证信息<br>403：访问被拒绝<br>404：找不到<br>GET 和 POST 的区别：<br>1.GET 只是一次 HTTP请求，POST 先发请求头再发请求体，实际上是两次请求<br>2.get是获取，post是更新<br>3.GET 请求的数据会附在 URL 之后，而post是把提交的数据放置在请求报文的请求体中<br>4.POST 的安全性要比 GET 的安全性高<br>浏览器中输入 URL 地址到显示主页的过程：首先输入地址解析域名为ip地址，建立tcp连接，发送http请求，返回http报文后浏览器会解析数据将页面渲染出来<br>DNS解析过程：<br>1.递归查询：主机所询问的本地域名服务器不知道被查询的域名的 IP 地址，向根域名服务器发送查询请求报文，查询返回的是查询结果或者索要查询的ip地址<br>2.迭代查询：当根域名服务器收到本地发出的查询请求后要么给出结果，要么告诉下一步去哪个顶级域名服务器查找，在顶级域名服务器查找后要么给出结果要么给出下次去哪个权限域名服务器查找，最后获得ip地址结果</p>
<p>http与https区别:<br>https消耗更多的cpu和资源,连接的端口不同http是80端口,https是443端口;https有身份认证,更安全可靠<br>数字证书是保证公钥是真的,没有被修改的<br>对称密钥加密是指加密和解密使用同一个密钥的方式,非对称加密指使用一对非对称密钥,公钥和私钥,一个加密一个解密</p>
<div id="paginator"></div></div><div id="post-footer"></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: 'TWFe26C7GQDWyvw3lVpQUswj-gzGzoHsz'
 , appKey: 'kA8WG8bPJQ16UwOnhf7TGdHn'
 , placeholder: '欢迎大家的评论，感谢批评指正'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="dr"><a href="/"> Mr.MaoZH</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">3</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">3</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">1</span></div></section></div><div id="aside-block"><h1>INDEX</h1><div id="post-index"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Http"><span class="toc-number">1.</span> <span class="toc-text">Http</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E8%AF%B7%E6%B1%82"><span class="toc-number">1.1.</span> <span class="toc-text">Http请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Http%E5%93%8D%E5%BA%94"><span class="toc-number">1.2.</span> <span class="toc-text">Http响应</span></a></li></ol></li></ol></div></div><footer><nobr><span class="text-title">©</span><span class="text-content">2020 to 2021</span></nobr><wbr><nobr><span class="text-title">ICP</span><span class="text-content">——备案号——</span></nobr><wbr><wbr><nobr>published with&nbsp;<a href="https://jack-edward.github.io">Zhihui Mao&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a href="">Arknight&nbsp;</a></nobr><wbr><nobr>by&nbsp;<a href="">Yue_plus </a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>